[
  {
    "name": "gosquared",
    "title": "GoSquared",
    "description": "Interact with the GoSquared tracking APIs.",
    "version": "1.0",
    "tags": [
      "service"
    ],
    "icon": {
      "type": "url",
      "value": "http://images.tray.io.s3.amazonaws.com/static/icons/placeholder.png"
    },
    "messages": [
      {
        "name": "identify_user",
        "title": "Identify user",
        "description": "Track a user via tray into People Analytics.",
        "input_schema": {
          "type": "object",
          "properties": {
            "person_id": {
              "type": "string",
              "description": "A unique ID for the person being tracked. This can be an ID for the user in your database, or another unique key such as an email address.",
              "title": "Person id"
            },
            "id": {
              "type": "string",
              "description": "Database ID for the user.",
              "title": "Id"
            },
            "email": {
              "type": "string",
              "title": "Email"
            },
            "name": {
              "type": "string",
              "title": "Name"
            },
            "first_name": {
              "type": "string",
              "title": "First name"
            },
            "last_name": {
              "type": "string",
              "title": "Last name"
            },
            "username": {
              "type": "string",
              "title": "Username"
            },
            "avatar": {
              "type": "string",
              "title": "Avatar"
            },
            "phone": {
              "type": "string",
              "title": "Phone"
            },
            "created_at": {
              "type": "string",
              "description": "A valid ISO 8601 timestamp of when this user was created.",
              "title": "Created at"
            },
            "company": {
              "type": "object",
              "properties": {
                "company_name": {
                  "type": "string",
                  "title": "Name"
                },
                "company_size": {
                  "type": "number",
                  "title": "Size"
                },
                "company_industry": {
                  "type": "string",
                  "title": "Industry"
                },
                "company_position": {
                  "type": "string",
                  "title": "Position"
                }
              },
              "required": [],
              "advanced": [],
              "additionalProperties": false,
              "title": "Company"
            },
            "custom": {
              "type": "object",
              "properties": {},
              "required": [],
              "advanced": [],
              "additionalProperties": true,
              "description": "Any custom properties associated with this person.",
              "title": "Custom"
            }
          },
          "$schema": "http://json-schema.org/draft-04/schema#",
          "required": [
            "person_id"
          ],
          "advanced": [],
          "additionalProperties": false
        },
        "output_schema": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "success": {
              "type": "boolean"
            },
            "sent": {
              "type": "object",
              "properties": {
                "alias": {
                  "type": "boolean"
                },
                "props": {
                  "type": "boolean"
                }
              }
            }
          }
        }
      },
      {
        "name": "track_event",
        "title": "Identify user",
        "description": "Track a user via tray into People Analytics.",
        "input_schema": {
          "type": "object",
          "properties": {
            "person_id": {
              "type": "string",
              "description": "A unique ID for the person being tracked. This can be an ID for the user in your database, or another unique key such as an email address.",
              "title": "Person id"
            },
            "timestamp": {
              "type": "string",
              "title": "Timestamp"
            },
            "event_name": {
              "type": "string",
              "title": "Event name"
            },
            "event_data": {
              "type": "object",
              "properties": {},
              "required": [],
              "advanced": [],
              "additionalProperties": true,
              "title": "Event properties"
            }
          },
          "$schema": "http://json-schema.org/draft-04/schema#",
          "required": [
            "person_id",
            "event_name"
          ],
          "advanced": [],
          "additionalProperties": false
        },
        "output_schema": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "type": "object",
          "properties": {
            "success": {
              "type": "boolean"
            },
            "details": {
              "type": "object",
              "properties": {
                "person_id": {
                  "type": "string"
                },
                "event": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    }
                  }
                },
                "timestamps": {
                  "type": "object",
                  "properties": {
                    "ms": {
                      "type": "number"
                    },
                    "unix": {
                      "type": "number"
                    },
                    "custom": {
                      "type": "null"
                    }
                  }
                },
                "visit_id": {
                  "type": "number"
                },
                "referrer": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string"
                    },
                    "href": {
                      "type": "string"
                    },
                    "internal": {
                      "type": "number"
                    }
                  }
                },
                "ip_version": {
                  "type": "number"
                }
              }
            }
          }
        }
      }
    ]
  }
]